# XXT-UI

XXT - Pekko DataFusion Arrow å‰ç«¯å±•ç¤ºå±‚

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- **ä»ªè¡¨ç›˜**: ç³»ç»Ÿæ€»è§ˆå’Œå…³é”®æŒ‡æ ‡å±•ç¤º
- **SQLæ§åˆ¶å°**: åœ¨çº¿SQLæŸ¥è¯¢ç¼–è¾‘å™¨ï¼Œæ”¯æŒè¯­æ³•é«˜äº®å’Œè‡ªåŠ¨è¡¥å…¨
- **ä»»åŠ¡ç›‘æ§**: å®æ—¶ç›‘æ§ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€å’Œç»Ÿè®¡ä¿¡æ¯
- **é›†ç¾¤çŠ¶æ€**: æŸ¥çœ‹é›†ç¾¤èŠ‚ç‚¹ä¿¡æ¯å’Œå¥åº·çŠ¶æ€
- **DAGç¼–è¾‘å™¨**: å¯è§†åŒ–ä»»åŠ¡æµç¨‹ç¼–æ’ï¼ˆè§„åˆ’ä¸­ï¼‰

## ğŸ“¦ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 18 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 5
- **UIåº“**: Ant Design 5
- **è·¯ç”±**: React Router 6
- **çŠ¶æ€ç®¡ç†**: Zustand
- **HTTPå®¢æˆ·ç«¯**: Axios
- **ä»£ç ç¼–è¾‘å™¨**: Monaco Editor
- **å›¾è¡¨**: Recharts

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18
- npm >= 9

### å®‰è£…ä¾èµ–

```bash
cd xxt-ui
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

è®¿é—® http://localhost:3000

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
xxt-ui/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/               # APIå®¢æˆ·ç«¯å’ŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ client.ts      # Axiosé…ç½®
â”‚   â”‚   â””â”€â”€ services.ts    # APIæ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ components/        # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout/        # å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx       # ä»ªè¡¨ç›˜
â”‚   â”‚   â”œâ”€â”€ SQLConsole.tsx      # SQLæ§åˆ¶å°
â”‚   â”‚   â”œâ”€â”€ TaskMonitor.tsx     # ä»»åŠ¡ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ ClusterStatus.tsx   # é›†ç¾¤çŠ¶æ€
â”‚   â”‚   â””â”€â”€ DAGEditor.tsx       # DAGç¼–è¾‘å™¨
â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ App.tsx            # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.tsx           # å…¥å£æ–‡ä»¶
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ vite.config.ts
```

## ğŸ”Œ APIé›†æˆ

å‰ç«¯é€šè¿‡Viteä»£ç†å°† `/api` è¯·æ±‚è½¬å‘åˆ°åç«¯æœåŠ¡ï¼ˆé»˜è®¤ `http://localhost:8080`ï¼‰ã€‚

### ä¸»è¦APIç«¯ç‚¹

- `GET /api/v1/status` - APIçŠ¶æ€
- `POST /api/v1/tasks` - æäº¤ä»»åŠ¡
- `GET /api/v1/tasks/statistics` - ä»»åŠ¡ç»Ÿè®¡
- `GET /api/v1/cluster/status` - é›†ç¾¤çŠ¶æ€
- `POST /api/v1/sql/execute` - æ‰§è¡ŒSQLæŸ¥è¯¢
- `GET /monitoring/metrics` - ç³»ç»ŸæŒ‡æ ‡
- `GET /health` - å¥åº·æ£€æŸ¥

## ğŸ¨ UIç»„ä»¶

### æ ¸å¿ƒé¡µé¢

1. **Dashboard (ä»ªè¡¨ç›˜)**
   - ç³»ç»ŸçŠ¶æ€å¡ç‰‡
   - å®æ—¶æŒ‡æ ‡å›¾è¡¨
   - å¿«é€Ÿæ“ä½œå…¥å£

2. **SQL Console (SQLæ§åˆ¶å°)**
   - Monacoç¼–è¾‘å™¨é›†æˆ
   - SQLè¯­æ³•é«˜äº®
   - æŸ¥è¯¢ç»“æœè¡¨æ ¼å±•ç¤º
   - æŸ¥è¯¢å†å²è®°å½•

3. **Task Monitor (ä»»åŠ¡ç›‘æ§)**
   - ä»»åŠ¡åˆ—è¡¨è§†å›¾
   - ä»»åŠ¡çŠ¶æ€ç­›é€‰
   - å®æ—¶ç»Ÿè®¡å›¾è¡¨
   - ä»»åŠ¡è¯¦æƒ…æŸ¥çœ‹

4. **Cluster Status (é›†ç¾¤çŠ¶æ€)**
   - èŠ‚ç‚¹åˆ—è¡¨å±•ç¤º
   - Leaderä¿¡æ¯
   - èŠ‚ç‚¹å¥åº·çŠ¶æ€
   - èµ„æºä½¿ç”¨æƒ…å†µ

5. **DAG Editor (DAGç¼–è¾‘å™¨)**
   - å¯è§†åŒ–æµç¨‹è®¾è®¡ï¼ˆè§„åˆ’ä¸­ï¼‰
   - æ‹–æ‹½å¼ä»»åŠ¡ç¼–æ’ï¼ˆè§„åˆ’ä¸­ï¼‰
   - ä¾èµ–å…³ç³»ç®¡ç†ï¼ˆè§„åˆ’ä¸­ï¼‰

## ğŸ”§ é…ç½®è¯´æ˜

### Viteé…ç½® (vite.config.ts)

```typescript
export default defineConfig({
  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'http://localhost:8080',  // åç«¯æœåŠ¡åœ°å€
        changeOrigin: true,
      },
    },
  },
})
```

## ğŸ“ å¼€å‘è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint è§„åˆ™
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼å†™æ³• + Hooks
- ç±»å‹å®šä¹‰ç»Ÿä¸€æ”¾åœ¨ `types/` ç›®å½•

## ğŸš§ å¾…å¼€å‘åŠŸèƒ½

- [ ] DAGå¯è§†åŒ–ç¼–è¾‘å™¨å®Œæ•´å®ç°
- [ ] å®æ—¶æ•°æ®æ¨é€ (WebSocket)
- [ ] ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç†
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] æš—è‰²ä¸»é¢˜åˆ‡æ¢
- [ ] æ•°æ®è¡€ç¼˜å¯è§†åŒ–
- [ ] æ€§èƒ½ç›‘æ§é¢æ¿

## ğŸ“„ è®¸å¯è¯

MIT License
