# XXT-UI å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

XXT-UI æ˜¯ Pekko DataFusion Arrow ç³»ç»Ÿçš„å‰ç«¯å±•ç¤ºå±‚ï¼Œæä¾›å¯è§†åŒ–çš„ç³»ç»Ÿç®¡ç†å’Œç›‘æ§ç•Œé¢ã€‚

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd xxt-ui
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

è¿™å°†å®‰è£…æ‰€æœ‰å¿…éœ€çš„ä¾èµ–åŒ…ï¼ŒåŒ…æ‹¬ï¼š
- React 18
- TypeScript
- Vite
- Ant Design 5
- Axios
- React Router
- ç­‰ç­‰...

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æœåŠ¡å™¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

### 4. æ„å»ºç”Ÿäº§ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰

```bash
npm run build
```

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯APIåœ°å€é…ç½®

é»˜è®¤æƒ…å†µä¸‹ï¼Œå‰ç«¯ä¼šå°† `/api` è¯·æ±‚ä»£ç†åˆ° `http://localhost:8080`

å¦‚éœ€ä¿®æ”¹åç«¯åœ°å€ï¼Œè¯·ç¼–è¾‘ `vite.config.ts`:

```typescript
export default defineConfig({
  server: {
    proxy: {
      '/api': {
        target: 'http://your-backend-url:port',  // ä¿®æ”¹è¿™é‡Œ
        changeOrigin: true,
      },
    },
  },
})
```

## ğŸš€ åŠŸèƒ½æ¨¡å—

### 1. ä»ªè¡¨ç›˜ (`/dashboard`)
- ç³»ç»ŸçŠ¶æ€æ€»è§ˆ
- ä»»åŠ¡ç»Ÿè®¡
- é›†ç¾¤ä¿¡æ¯
- æ€§èƒ½æŒ‡æ ‡

### 2. SQLæ§åˆ¶å° (`/sql`)
- SQLæŸ¥è¯¢ç¼–è¾‘
- æŸ¥è¯¢ç»“æœå±•ç¤º
- æŸ¥è¯¢å†å²ï¼ˆè§„åˆ’ä¸­ï¼‰

### 3. ä»»åŠ¡ç›‘æ§ (`/tasks`)
- ä»»åŠ¡åˆ—è¡¨
- ä»»åŠ¡çŠ¶æ€
- ä»»åŠ¡è¯¦æƒ…ï¼ˆè§„åˆ’ä¸­ï¼‰

### 4. é›†ç¾¤çŠ¶æ€ (`/cluster`)
- èŠ‚ç‚¹ä¿¡æ¯
- é›†ç¾¤æ‹“æ‰‘
- èµ„æºç›‘æ§ï¼ˆè§„åˆ’ä¸­ï¼‰

### 5. DAGç¼–è¾‘å™¨ (`/dag`)
- å¯è§†åŒ–æµç¨‹ç¼–æ’ï¼ˆè§„åˆ’ä¸­ï¼‰
- ä»»åŠ¡ä¾èµ–ç®¡ç†ï¼ˆè§„åˆ’ä¸­ï¼‰

## ğŸ“ é¡¹ç›®ç»“æ„

```
xxt-ui/
â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/               # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ client.ts      # Axiosé…ç½®
â”‚   â”‚   â””â”€â”€ services.ts    # APIæœåŠ¡å®šä¹‰
â”‚   â”œâ”€â”€ components/        # å…¬å…±ç»„ä»¶
â”‚   â”‚   â””â”€â”€ Layout/
â”‚   â”‚       â””â”€â”€ AppLayout.tsx  # ä¸»å¸ƒå±€ç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”œâ”€â”€ SQLConsole.tsx
â”‚   â”‚   â”œâ”€â”€ TaskMonitor.tsx
â”‚   â”‚   â”œâ”€â”€ ClusterStatus.tsx
â”‚   â”‚   â””â”€â”€ DAGEditor.tsx
â”‚   â”œâ”€â”€ types/             # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ App.tsx            # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ App.css            # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ main.tsx           # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css          # åŸºç¡€æ ·å¼
â”œâ”€â”€ index.html
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â””â”€â”€ README.md
```

## ğŸ”Œ APIé›†æˆ

### ä¸»è¦APIç«¯ç‚¹

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/v1/status` | GET | APIçŠ¶æ€ |
| `/api/v1/tasks` | POST | æäº¤ä»»åŠ¡ |
| `/api/v1/tasks/statistics` | GET | ä»»åŠ¡ç»Ÿè®¡ |
| `/api/v1/tasks/{id}` | GET | ä»»åŠ¡è¯¦æƒ… |
| `/api/v1/cluster/status` | GET | é›†ç¾¤çŠ¶æ€ |
| `/api/v1/sql/execute` | POST | æ‰§è¡ŒSQL |
| `/monitoring/metrics` | GET | ç³»ç»ŸæŒ‡æ ‡ |
| `/health` | GET | å¥åº·æ£€æŸ¥ |

### APIè°ƒç”¨ç¤ºä¾‹

```typescript
import { taskAPI } from '@/api/services'

// è·å–ä»»åŠ¡ç»Ÿè®¡
const stats = await taskAPI.getStatistics()

// æäº¤ä»»åŠ¡
const result = await taskAPI.submitTask({
  taskType: 'sql',
  sql: 'SELECT * FROM users'
})
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` ä¸‹åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `src/App.tsx` ä¸­æ·»åŠ è·¯ç”±
3. åœ¨ `src/components/Layout/AppLayout.tsx` ä¸­æ·»åŠ èœå•é¡¹

### æ·»åŠ æ–°API

1. åœ¨ `src/types/index.ts` ä¸­å®šä¹‰ç±»å‹
2. åœ¨ `src/api/services.ts` ä¸­æ·»åŠ APIæ–¹æ³•
3. åœ¨ç»„ä»¶ä¸­ä½¿ç”¨

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- éµå¾ª ESLint è§„åˆ™
- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- ç»„ä»¶ä½¿ç”¨å‡½æ•°å¼å†™æ³• + Hooks

è¿è¡Œä»£ç æ£€æŸ¥ï¼š
```bash
npm run lint
```

æ ¼å¼åŒ–ä»£ç ï¼š
```bash
npm run format
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ä¾èµ–å®‰è£…**: é¦–æ¬¡è¿è¡Œå‰å¿…é¡»æ‰§è¡Œ `npm install`
2. **åç«¯æœåŠ¡**: ç¡®ä¿åç«¯æœåŠ¡ï¼ˆlocalhost:8080ï¼‰å·²å¯åŠ¨
3. **æµè§ˆå™¨æ”¯æŒ**: å»ºè®®ä½¿ç”¨æœ€æ–°ç‰ˆ Chrome/Firefox/Edge
4. **å¼€å‘æ¨¡å¼**: å¼€å‘æ—¶ä¼šè‡ªåŠ¨çƒ­é‡è½½ï¼Œæ— éœ€æ‰‹åŠ¨åˆ·æ–°

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜1: npm install å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ¸…é™¤ç¼“å­˜
npm cache clean --force

# é‡æ–°å®‰è£…
npm install
```

### é—®é¢˜2: APIè¯·æ±‚å¤±è´¥

**æ£€æŸ¥é¡¹**:
1. åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. åç«¯åœ°å€é…ç½®æ˜¯å¦æ­£ç¡®
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰CORSé”™è¯¯

### é—®é¢˜3: ç«¯å£è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä¿®æ”¹ vite.config.ts ä¸­çš„ç«¯å£
server: {
  port: 3001  // æ”¹ä¸ºå…¶ä»–ç«¯å£
}
```

## ğŸ“š å‚è€ƒèµ„æº

- [Reactå®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Ant Designç»„ä»¶åº“](https://ant.design/)
- [Viteå®˜æ–¹æ–‡æ¡£](https://vitejs.dev/)
- [TypeScriptæ–‡æ¡£](https://www.typescriptlang.org/)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼æäº¤PRå‰è¯·ç¡®ä¿ï¼š
1. ä»£ç é€šè¿‡lintæ£€æŸ¥
2. æ·»åŠ å¿…è¦çš„æ³¨é‡Š
3. æ›´æ–°ç›¸å…³æ–‡æ¡£

## ğŸ“ æ›´æ–°æ—¥å¿—

### v0.1.0 (2024-11)
- âœ… åˆå§‹åŒ–é¡¹ç›®ç»“æ„
- âœ… å®ç°åŸºç¡€å¸ƒå±€å’Œè·¯ç”±
- âœ… å®ŒæˆDashboardé¡µé¢
- âœ… å®ç°SQL ConsoleåŸºç¡€ç‰ˆ
- âœ… æ·»åŠ APIå®¢æˆ·ç«¯å’Œç±»å‹å®šä¹‰
