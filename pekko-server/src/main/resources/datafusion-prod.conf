# DataFusion生产环境配置

include "datafusion.conf"

datafusion {
  enabled = true
  host = ${?DATAFUSION_HOST}  # 必须通过环境变量指定
  port = ${?DATAFUSION_PORT}  # 必须通过环境变量指定
  
  pool {
    maxTotal = 20
    maxIdle = 10
    minIdle = 5
    connectTimeout = 5000
    requestTimeout = 30000
  }
  
  query {
    defaultBatchSize = 1000
    defaultTimeout = 30
    maxRetries = 3
    retryDelay = 1000
  }
  
  monitoring {
    metricsEnabled = true
    structuredLogging = true
    slowQueryThreshold = 10000  # 生产环境更高的慢查询阈值
  }
  
  healthCheck {
    interval = 60           # 生产环境较少的健康检查频率
    timeout = 5000
    failureThreshold = 5    # 生产环境更高的失败容忍度
  }
}
